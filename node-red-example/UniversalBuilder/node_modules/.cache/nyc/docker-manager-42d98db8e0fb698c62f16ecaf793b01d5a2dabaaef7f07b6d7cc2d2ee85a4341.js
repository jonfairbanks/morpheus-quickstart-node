function cov_2ln3bivxn6(){var path="/Users/scottterry/Workspace/AgentGarage/UniversalBuilder/src/lib/docker-manager.js";var hash="5b38ca6ba0ff19e632da77a84b224ee21f08770c";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/scottterry/Workspace/AgentGarage/UniversalBuilder/src/lib/docker-manager.js",statementMap:{"0":{start:{line:1,column:15},end:{line:1,column:35}},"1":{start:{line:5,column:8},end:{line:5,column:35}},"2":{start:{line:9,column:8},end:{line:23,column:9}},"3":{start:{line:10,column:30},end:{line:17,column:14}},"4":{start:{line:19,column:12},end:{line:19,column:36}},"5":{start:{line:20,column:12},end:{line:20,column:32}},"6":{start:{line:22,column:12},end:{line:22,column:76}},"7":{start:{line:27,column:8},end:{line:27,column:76}},"8":{start:{line:27,column:57},end:{line:27,column:74}},"9":{start:{line:31,column:8},end:{line:37,column:9}},"10":{start:{line:32,column:30},end:{line:32,column:67}},"11":{start:{line:33,column:12},end:{line:33,column:35}},"12":{start:{line:34,column:12},end:{line:34,column:37}},"13":{start:{line:36,column:12},end:{line:36,column:74}},"14":{start:{line:41,column:0},end:{line:41,column:31}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:4,column:4},end:{line:4,column:5}},loc:{start:{line:4,column:18},end:{line:6,column:5}},line:4},"1":{name:"(anonymous_1)",decl:{start:{line:8,column:4},end:{line:8,column:5}},loc:{start:{line:8,column:34},end:{line:24,column:5}},line:8},"2":{name:"(anonymous_2)",decl:{start:{line:26,column:4},end:{line:26,column:5}},loc:{start:{line:26,column:37},end:{line:28,column:5}},line:26},"3":{name:"(anonymous_3)",decl:{start:{line:27,column:39},end:{line:27,column:40}},loc:{start:{line:27,column:57},end:{line:27,column:74}},line:27},"4":{name:"(anonymous_4)",decl:{start:{line:30,column:4},end:{line:30,column:5}},loc:{start:{line:30,column:37},end:{line:38,column:5}},line:30}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5b38ca6ba0ff19e632da77a84b224ee21f08770c"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2ln3bivxn6=function(){return actualCoverage;};}return actualCoverage;}cov_2ln3bivxn6();const Docker=(cov_2ln3bivxn6().s[0]++,require('dockerode'));class DockerManager{constructor(){cov_2ln3bivxn6().f[0]++;cov_2ln3bivxn6().s[1]++;this.docker=new Docker();}async deployContainer(config){cov_2ln3bivxn6().f[1]++;cov_2ln3bivxn6().s[2]++;try{const container=(cov_2ln3bivxn6().s[3]++,await this.docker.createContainer({Image:config.image,Env:this._formatEnvironmentVariables(config.env),ExposedPorts:config.ports,HostConfig:{PortBindings:config.portBindings}}));cov_2ln3bivxn6().s[4]++;await container.start();cov_2ln3bivxn6().s[5]++;return container.id;}catch(error){cov_2ln3bivxn6().s[6]++;throw new Error(`Failed to deploy container: ${error.message}`);}}_formatEnvironmentVariables(env){cov_2ln3bivxn6().f[2]++;cov_2ln3bivxn6().s[7]++;return Object.entries(env).map(([key,value])=>{cov_2ln3bivxn6().f[3]++;cov_2ln3bivxn6().s[8]++;return`${key}=${value}`;});}async stopContainer(containerId){cov_2ln3bivxn6().f[4]++;cov_2ln3bivxn6().s[9]++;try{const container=(cov_2ln3bivxn6().s[10]++,this.docker.getContainer(containerId));cov_2ln3bivxn6().s[11]++;await container.stop();cov_2ln3bivxn6().s[12]++;await container.remove();}catch(error){cov_2ln3bivxn6().s[13]++;throw new Error(`Failed to stop container: ${error.message}`);}}}cov_2ln3bivxn6().s[14]++;module.exports=DockerManager;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMmxuM2JpdnhuNiIsImFjdHVhbENvdmVyYWdlIiwiRG9ja2VyIiwicyIsInJlcXVpcmUiLCJEb2NrZXJNYW5hZ2VyIiwiY29uc3RydWN0b3IiLCJmIiwiZG9ja2VyIiwiZGVwbG95Q29udGFpbmVyIiwiY29uZmlnIiwiY29udGFpbmVyIiwiY3JlYXRlQ29udGFpbmVyIiwiSW1hZ2UiLCJpbWFnZSIsIkVudiIsIl9mb3JtYXRFbnZpcm9ubWVudFZhcmlhYmxlcyIsImVudiIsIkV4cG9zZWRQb3J0cyIsInBvcnRzIiwiSG9zdENvbmZpZyIsIlBvcnRCaW5kaW5ncyIsInBvcnRCaW5kaW5ncyIsInN0YXJ0IiwiaWQiLCJlcnJvciIsIkVycm9yIiwibWVzc2FnZSIsIk9iamVjdCIsImVudHJpZXMiLCJtYXAiLCJrZXkiLCJ2YWx1ZSIsInN0b3BDb250YWluZXIiLCJjb250YWluZXJJZCIsImdldENvbnRhaW5lciIsInN0b3AiLCJyZW1vdmUiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiZG9ja2VyLW1hbmFnZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgRG9ja2VyID0gcmVxdWlyZSgnZG9ja2Vyb2RlJyk7XG5cbmNsYXNzIERvY2tlck1hbmFnZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmRvY2tlciA9IG5ldyBEb2NrZXIoKTtcbiAgICB9XG5cbiAgICBhc3luYyBkZXBsb3lDb250YWluZXIoY29uZmlnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBhd2FpdCB0aGlzLmRvY2tlci5jcmVhdGVDb250YWluZXIoe1xuICAgICAgICAgICAgICAgIEltYWdlOiBjb25maWcuaW1hZ2UsXG4gICAgICAgICAgICAgICAgRW52OiB0aGlzLl9mb3JtYXRFbnZpcm9ubWVudFZhcmlhYmxlcyhjb25maWcuZW52KSxcbiAgICAgICAgICAgICAgICBFeHBvc2VkUG9ydHM6IGNvbmZpZy5wb3J0cyxcbiAgICAgICAgICAgICAgICBIb3N0Q29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIFBvcnRCaW5kaW5nczogY29uZmlnLnBvcnRCaW5kaW5nc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhd2FpdCBjb250YWluZXIuc3RhcnQoKTtcbiAgICAgICAgICAgIHJldHVybiBjb250YWluZXIuaWQ7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBkZXBsb3kgY29udGFpbmVyOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZm9ybWF0RW52aXJvbm1lbnRWYXJpYWJsZXMoZW52KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuZW50cmllcyhlbnYpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBgJHtrZXl9PSR7dmFsdWV9YCk7XG4gICAgfVxuXG4gICAgYXN5bmMgc3RvcENvbnRhaW5lcihjb250YWluZXJJZCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5kb2NrZXIuZ2V0Q29udGFpbmVyKGNvbnRhaW5lcklkKTtcbiAgICAgICAgICAgIGF3YWl0IGNvbnRhaW5lci5zdG9wKCk7XG4gICAgICAgICAgICBhd2FpdCBjb250YWluZXIucmVtb3ZlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBzdG9wIGNvbnRhaW5lcjogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IERvY2tlck1hbmFnZXI7ICJdLCJtYXBwaW5ncyI6IjZ4RUFlWTtBQUFBQSxjQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGNBQUEsR0Fm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